<form (ngSubmit)="onHandleUpdate()" [formGroup]="productForm">
    <div class="form-outline mb-4">
      <label class="form-label">Tên sách</label>
      <input type="text" class="form-control" formControlName="name" />
      <!-- Hiển thị thông báo lỗi cho trường "Tên sách" -->
      <div *ngIf="productForm.get('name')?.errors?.['required'] && (productForm.get('name')?.touched || submitted)"
        class="text-danger">
        Tên sách là bắt buộc
      </div>
      <div *ngIf="productForm.get('name')?.errors?.['minlength'] && (productForm.get('name')?.touched || submitted)"
        class="text-danger">
        Tên sách phải có ít nhất 4 ký tự
      </div>
      <div *ngIf="productForm.get('name')?.errors?.['pattern'] && (productForm.get('name')?.touched || submitted)"
        class="text-danger">
        Tên sách không được chứa số
      </div>
    </div>
  
    <!-- Author input -->
    <div class="form-outline mb-4">
      <label class="form-label">Tác giả</label>
      <input type="text" class="form-control" formControlName="author" />
      <!-- Hiển thị thông báo lỗi cho trường "Tác giả" -->
      <div *ngIf="productForm.get('author')?.errors?.['required'] && (productForm.get('author')?.touched || submitted)"
        class="text-danger">
        Tác giả là bắt buộc
      </div>
      <div *ngIf="productForm.get('author')?.errors?.['minlength'] && (productForm.get('author')?.touched || submitted)"
        class="text-danger">
        Tác giả phải có ít nhất 4 ký tự
      </div>
    </div>
  
    <!-- Price input -->
    <div class="form-outline mb-4">
      <label class="form-label">Giá</label>
      <input type="number" class="form-control" formControlName="price" />
      <!-- Hiển thị thông báo lỗi cho trường "Giá" -->
      <div *ngIf="productForm.get('price')?.errors?.['required'] && (productForm.get('price')?.touched || submitted)"
        class="text-danger">
        Giá là bắt buộc
      </div>
      <div *ngIf="productForm.get('price')?.errors?.['min'] && (productForm.get('price')?.touched || submitted)"
        class="text-danger">
        Giá phải lớn hơn 0
      </div>
    </div>
  
    <div class="form-group">
      <label for="image">Ảnh</label>
      <input type="file" id="image" accept="image/*" (change)="onSelectImage($event)" class="form-control" name="images">
    </div>
    <div class="image-preview">
      <img [src]="product.image.url" alt="Product Image" *ngIf="product?.image.url" class="mb-4" />
  
    </div>
    <!-- Message input -->
    <div class="form-outline mb-4">
      <label class="form-label">Mô tả</label>
      <textarea class="form-control" rows="4" formControlName="description"></textarea>
      <!-- Hiển thị thông báo lỗi cho trường "Mô tả" -->
      <div
        *ngIf="productForm.get('description')?.errors?.['required'] && (productForm.get('description')?.touched || submitted)"
        class="text-danger">
        Mô tả là bắt buộc
      </div>
      <div
        *ngIf="productForm.get('description')?.errors?.['minlength'] && (productForm.get('description')?.touched || submitted)"
        class="text-danger">
        Mô tả phải có ít nhất 4 ký tự
      </div>
    </div>
  
    <div class="form-outline mb-4">
      <label class="form-label">Danh mục</label>
      <select class="form-select" formControlName="categoryId">
        <option value="" disabled selected>Chọn danh mục</option>
        <option *ngFor="let category of categories" [value]="category._id">{{ category.name }}</option>
      </select>
      <div
        *ngIf="productForm.get('categoryId')?.errors?.['required'] && (productForm.get('categoryId')?.touched || submitted)"
        class="text-danger">
        Hãy chọn danh mục muốn thêm
      </div>
    </div>
  
    <!-- Submit button -->
    <button type="submit" class="btn btn-primary btn-block mb-4" [disabled]="productForm.invalid">Cập nhật</button>
  </form>